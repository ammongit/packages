@@ -73,6 +73,7 @@
 #undef reg /* SunOS headers define this to be register */
 #endif
 
+#include <stddef.h>
 #include <stdio.h>
 #include <stdlib.h>
 #include <string.h>
@@ -519,8 +520,8 @@
     };
     
     template <typename T>
-    struct Move<Ref<T> > : public RelocatableMove<Ref<T> > { }; 
-    
+    struct Move<Ref<T> > : public RelocatableMove<Ref<T> > { };
+
     template <typename T>
     struct Move<Ptr<T> > : public RelocatableMove<Ptr<T> > { };
     
@@ -808,7 +809,7 @@
     
     char* begin()
      { return mArray.begin(); }
-    const char* begin() const   
+    const char* begin() const
      { return mArray.begin(); }
     
     bool startsWith(const char *s) const;
@@ -818,12 +819,12 @@
     
     /* TODO: Evil casting... */
     char* find(char c) const
-     { return strchr(mArray.begin(), c); }
+     { return strchr(const_cast<char*>(mArray.begin()), c); }
     char* findr(char c) const
-     { return strrchr(mArray.begin(), c); }
-    char* find(const char* s) const 
-     { return strstr(mArray.begin(), s); }
-    
+     { return strrchr(const_cast<char*>(mArray.begin()), c); }
+    char* find(const char* s) const
+     { return strstr(const_cast<char*>(mArray.begin()), s); }
+
     String padLeft(char padChar, size_t len) const;
     String padCenter(char padChar, size_t len) const;
     String padRight(char padChar, size_t len) const;
