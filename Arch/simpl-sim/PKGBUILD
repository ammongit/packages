# Maintainer: Ammon Smith <ammon.i.smith@gmail.com>

pkgname=simpl-sim
pkgver=2.1.1
pkgrel=1
pkgdesc="SimpLC Simulator for LC-3 assembly language."
arch=('any')
url='https://sourceforge.net/projects/simplc/files/?source=navbar'
license=('GPL')
depends=('readline' 'ncurses')
makedepends=('gcc')
optdepends=()
provides=("${pkgname%-git}")
conflicts=("${pkgname%-git}")
options=()
source=('http://tenet.dl.sourceforge.net/project/simplc/simplc-src/2.1.1b2/simp2.1.1b2.tar.gz')
sha256sums=('51609bcb167010222a86facd2faae9c57e52925a469a20e48651a6aa8dc21cb7')

build() {
	cd "$srcdir/simpl-src"
	cat > .options <<- EOF
	READLINE="-lreadline"
	CURSES="-lncurses"
	EXCEPTIONS="-fno-exceptions"
	INSTALL="y"
	DEST="$pkgdir/usr/lib/$pkgname"
	BINDIR="$pkgdir/usr/bin"
	QTLIB=""
	QTLIBDIR=""
	QTINC=""
	QTINCDIR=""
	KDELIB=""
	KDELIBDIR=""
	KDEINC=""
	KDEINCDIR=""
	MOC=""
	USE_KDE=""
	EOF

	./config.sh
	make
}

package() {
	cd "$srcdir/${pkgname%-git}"

	mkdir -p "$pkgdir/usr/lib/$pkgname"
	mkdir -p "$pkgdir/usr/bin"
	#make install
	echo __PACKAGE__
}

# vim: set sw=4 ts=4 noet:
